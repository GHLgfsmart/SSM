<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="PriceMapper">
<!-- 	表名 -->
	<sql id="tableName">
		price_money
	</sql>
<!-- 	字段 -->
	<sql id="Field">
		PRICE_ID,
		STORAGE,
		RICHARD,
		LOADING,
		UNLOADING,
		MONEYTIME,
		ARTIFICIAL,
		STATE,
		SURCHARGE,
		DAYS,
		EVERY_DAYS,
		WHY
	</sql>
	
<!-- 	字段值 -->
	<sql id="FieldValue">
		#{PRICE_ID},
		#{STORAGE},
		#{RICHARD},
		#{LOADING},
		#{UNLOADING},
		#{MONEYTIME},
		#{ARTIFICIAL},
		#{STATE},
		#{SURCHARGE},
		#{DAYS},
		#{EVERY_DAYS},
		#{WHY}
	</sql>
	
<!-- 	新增公告栏 -->
	<insert id="saveU" parameterType="pd" >
		insert into <include refid="tableName"></include> (
			<include refid="Field"></include>
		) values (
			<include refid="FieldValue"></include>
		)
	</insert>
	<!-- 通过PRICE_ID获取数据 -->
	<select id="findById" parameterType="pd" resultType="pd" >
		select 
			<include refid="Field"></include>
		from 
			<include refid="tableName"></include> 
		<where>
		<choose>
			<when test="toos=='toos'">
				STATE='0'
			</when>
			<otherwise>
			PRICE_ID =#{PRICE_ID}
			</otherwise>
		</choose>  
		</where>
	</select> 
	<!-- 列表 -->
	<select id="mlistPage" parameterType="page" resultType="pd" >
		select  <include refid="Field"></include>
		from <include refid="tableName"></include>
		order by MONEYTIME desc
	</select>
	<!-- 修改 -->
	<update id="editU" parameterType="pd" >
		update  <include refid="tableName"></include>
			set STORAGE 					= #{STORAGE},
				RICHARD 				= #{RICHARD},
				LOADING 				= #{LOADING},
				UNLOADING 				= #{UNLOADING},
				ARTIFICIAL 				= #{ARTIFICIAL}
				where PRICE_ID      =#{PRICE_ID}
	</update>
	
	<!-- 删除用-->
	<delete id="deleteU" parameterType="pd" flushCache="false">
		<choose>
			<when test="STATE==1">
			update  <include refid="tableName"></include>
			set STATE=#{STATE}
			where 
				PRICE_ID = #{PRICE_ID}
			</when>
			<otherwise>
			delete from <include refid="tableName"></include>
			where 
				PRICE_ID = #{PRICE_ID}
			</otherwise>
		</choose>
	</delete>
		<!-- 批量删除-->
	<delete id="deleteAllU" parameterType="String" >
		delete from <include refid="tableName"></include>
		where 
			PRICE_ID in
  			 <foreach item="item" index="index" collection="array" open="(" separator="," close=")">
                  #{item}
             </foreach>
	</delete>
</mapper>